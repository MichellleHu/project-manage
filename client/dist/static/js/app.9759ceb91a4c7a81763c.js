webpackJsonp([0],[,,,,,,,function(t,e,s){s(147);var o=s(0)(s(85),s(200),"data-v-4c21fc02",null);t.exports=o.exports},,,,,,function(t,e,s){s(144);var o=s(0)(s(86),s(197),"data-v-24a15cd3",null);t.exports=o.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){s(149);var o=s(0)(s(67),s(202),"data-v-54c335c8",null);t.exports=o.exports},function(t,e,s){s(136);var o=s(0)(s(72),s(189),null,null);t.exports=o.exports},function(t,e,s){s(151);var o=s(0)(s(74),s(204),null,null);t.exports=o.exports},function(t,e,s){s(139);var o=s(0)(s(78),s(192),"data-v-128d99d7",null);t.exports=o.exports},function(t,e,s){s(146);var o=s(0)(s(84),s(199),"data-v-48e28b08",null);t.exports=o.exports},function(t,e,s){"use strict";s.d(e,"a",function(){return i});var o=s(90),n=s.n(o),r=s(92),a=s.n(r),i={};i.install=function(t){var e=t.prototype;e.$isFormEmpty=function(t){return a()(t).every(function(e){return""!==t[e]})},e.$getFromSession=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){return JSON.parse(sessionStorage.getItem(t))[e]}return sessionStorage.getItem(t)},e.$saveToSession=function(t,e){sessionStorage.setItem(t,n()(e))},e.$saveLoginInfo=function(t){sessionStorage.setItem("isLogin",!0),e.$saveToSession("userInfo",t)},e.$post=function(t,e){return this.$http.post(t,e).then(function(e){var s=e.status,o=e.body,n=e.code;if(200===s)return o;throw new Error("服务器出现错误！status:"+s+",code:"+n+",url:"+t)}).catch(function(t){throw new Error(t)})},e.$paramsPost=function(t,e,s){return this.$http.post(t,e,{params:s}).then(function(e){var s=e.status,o=e.body,n=e.code;if(200===s)return o;throw new Error("服务器出现错误！status:"+s+",code:"+n+",url:"+t)}).catch(function(t){throw new Error(t)})},e.$filterPost=function(t,e,s){return this.$http.post(t,e,{params:{where:s}}).then(function(e){var s=e.status,o=e.body,n=e.code;if(200===s)return o;throw new Error("服务器出现错误！status:"+s+",code:"+n+",url:"+t)}).catch(function(t){throw new Error(t)})},e.$get=function(t){return this.$http.get(t).then(function(e){var s=e.status,o=e.body,n=e.code;if(200===s)return o;throw new Error("服务器出现错误！status:"+s+",code:"+n+",url:"+t)}).catch(function(t){throw new Error(t)})},e.$delete=function(t){return this.$http.delete(t).then(function(e){var s=e.status,o=e.body,n=e.code;if(200===s)return o;throw new Error("服务器出现错误！status:"+s+",code:"+n+",url:"+t)}).catch(function(t){throw new Error(t)})},e.$paramsGet=function(t,e){return this.$http.get(t,{params:e}).then(function(e){var s=e.status,o=e.body,n=e.code;if(200===s)return o;throw new Error("服务器出现错误！status:"+s+",code:"+n+",url:"+t)}).catch(function(t){throw new Error(t)})},e.$filterGet=function(t,e){return this.$http.get(t,{params:{filter:{where:e}}}).then(function(e){var s=e.status,o=e.body,n=e.code;if(200===s)return o;throw new Error("服务器出现错误！status:"+s+",code:"+n+",url:"+t)}).catch(function(t){throw new Error(t)})},e.$hideModal=function(){$(".modal").modal("hide")}}},function(t,e,s){"use strict";var o=s(21),n=s(215),r=s(167),a=s.n(r),i=s(168),c=s.n(i),u=s(169),d=s.n(u),l=s(174),p=s.n(l),f=s(178),m=s.n(f),h=s(179),v=s.n(h),_=s(176),g=s.n(_),k=s(170),C=s.n(k),b=s(177),I=s.n(b);o.a.use(n.a),e.a=new n.a({routes:[{path:"/",redirect:{name:"main"}},{path:"/login",name:"login",component:a.a},{path:"/regist",name:"regist",component:d.a},{path:"/main",name:"main",component:c.a,redirect:{name:"dashboard"},children:[{path:"dashboard",name:"dashboard",redirect:{name:"group"}},{path:"dashboard/mission",name:"mission",component:p.a},{path:"dashboard/moments",name:"moments",component:g.a},{path:"project/:projectId/:projectName",name:"project",component:m.a},{path:"project/:projectId/:projectName/document",name:"document",component:I.a},{path:"search",name:"search",component:v.a},{path:"group",name:"group",component:C.a}]}]})},function(t,e,s){"use strict";s.d(e,"a",function(){return r});var o=s(21),n=s(217);o.a.use(n.a);var r=new n.a.Store({state:{routerLevel:[],firstRouterName:"",secondRouterName:"",thirdRouterName:"",isLogin:!1,searchWords:"",dragInfo:{}},getters:{},mutations:{setDragInfo:function(t,e){t.dragInfo=e},setSearchWords:function(t,e){t.searchWords=e},refreshRouterLevel:function(t,e){t.routerLevel=e.split("/").splice(1)},refreshRouterName:function(t){var e=t.routerLevel,s=e.length;s>0&&(t.firstRouterName=e[0]),s>1&&(t.secondRouterName=e[1]),s>2&&(t.thirdRouterName=e[2])}},actions:{getSearchWords:function(t,e){(0,t.commit)("setSearchWords",e)},increment:function(t,e){(0,t.commit)("increment",e)},refreshRouterLevel:function(t,e){(0,t.commit)("refreshRouterLevel",e)},refreshRouterName:function(t){(0,t.commit)("refreshRouterName")}}})},function(t,e,s){s(150);var o=s(0)(s(60),s(203),null,null);t.exports=o.exports},,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(53),n=s.n(o);e.default={data:function(){return{errMsg:"",formInfo:{userId:"",password:""}}},methods:{isEmpty:function(){var t=this.$isFormEmpty(this.formInfo);return t||(this.errMsg="请填写全所有的字段"),t},submit:function(){var t=this;if(this.isEmpty()){var e={where:this.formInfo};this.$http.get("/api/People",{params:{filter:e}}).then(function(e){var s=e.status,o=e.body;if(200===s)if(1===o.length){var n=o[0];t.$saveLoginInfo(n),t.$router.push({name:"main"})}else t.errMsg="用户名或密码错误";else t.errMsg="服务器出错鸟！"}).catch(function(t){console.error(t)})}}},components:{log:n.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(182),n=s.n(o),r=s(180),a=s.n(r);e.default={data:function(){return{}},components:{panel:n.a,headNavbar:a.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(53),n=s.n(o);e.default={data:function(){return{errMsg:"",formInfo:{firstName:"",secondName:"",userId:"",password:"",confirmPassword:""}}},methods:{isEmpty:function(){var t=this.$isFormEmpty(this.formInfo);return t||(this.errMsg="请填写全所有的字段"),t},isPasswordSame:function(){var t=this.formInfo.password===this.formInfo.confirmPassword;return t||(this.errMsg="两次密码输入不相同"),t},isRepeat:function(){var t={where:{name:this.formInfo.name}};return this.$http.get("/api/People",{params:{filter:t}}).then(function(t){return t}).catch(function(t){console.error(t)})},postInfo:function(){var t=this,e={firstName:this.formInfo.firstName,secondName:this.formInfo.secondName,name:this.formInfo.firstName+this.formInfo.secondName,userId:this.formInfo.userId,password:this.formInfo.password,headName:""};e.secondName.length>1?e.headName=e.secondName:e.headName=e.name,this.$http.post("/api/People",e).then(function(e){var s=e.status,o=e.body;200===s&&(t.$saveLoginInfo(o),t.$router.push({name:"main"}))}).catch(function(t){console.error(t)})},submit:function(){var t=this;this.errMsg="",this.isEmpty()&&this.isPasswordSame()&&this.isRepeat().then(function(e){var s=e.status,o=e.body;if(200===s){var n=o[0];n&&n.userId===t.formInfo.userId?t.errMsg="该手机号已注册！":t.postInfo()}else t.errMsg="服务器出错鸟！"})}},components:{log:n.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(14),n=s.n(o),r=s(13),a=s.n(r),i=s(7),c=s.n(i),u=s(51),d=s.n(u),l=s(52),p=s.n(l);e.default={created:function(){this.getGroupList()},watch:{$route:"getProjectInfo"},data:function(){return{errMsg:"",projectName:"",projectDescription:"",projectArr:[],groupList:[],modalHook:!1}},methods:{getGroupList:function(){var t=this,e=this.$getFromSession("userInfo","id");this.$get("api/People/"+e+"/person_has_groups").then(function(e){var s=[];return e.forEach(function(e){var o=e.group_id;s.push(t.$filterGet("api/Projects/findOne",{id:o}))}),s}).then(function(e){n.a.all(e).then(function(e){e.forEach(function(e){t.groupList.push(e)})})})},createProject:function(){this.modalHook=!this.modalHook},insertGroup:function(t){this.groupList.push(t)},postProjectInfo:function(){var t=this;this.errMsg="";var e={leader_id:this.$getFromSession("userInfo","id"),leader_um:this.$getFromSession("userInfo","userId"),create_time:String(Date.now()),name:this.projectName,description:this.projectDescription};""===this.projectName?this.errMsg="请填写项目名称！":this.$post("/api/Projects",e).then(function(e){t.groupList.push(e),t.$hideModal(),t.projectName="",t.projectDescription=""})},getProjectInfo:function(){var t=this,e=this.$route.params.groupId;this.$get("/api/Groups/"+e+"/projects").then(function(e){t.projectArr=e})}},components:{projectItem:d.a,projectModal:a.a,dangerAlert:c.a,createGroup:p.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(7),n=s.n(o);e.default={data:function(){return{showCreate:!1,taskGroupName:"",errMsg:""}},computed:{isDashboard:function(){return"dashboard"===this.$store.state.secondRouterName}},methods:{createMission:function(){this.showCreate=!0},cancelCreate:function(){this.showCreate=!1},postCreate:function(){var t=this;if(this.errMsg="",this.taskGroupName){var e={project_id:this.projectId,project_name:this.projectName,name:this.taskGroupName,index:this.taskGroupLength};this.$paramsGet("/api/Task_groups/count",{where:{name:e.name}}).then(function(s){0===s.count?t.$post("/api/Task_groups",e).then(function(e){t.$emit("taskGroupCreated",e),t.showCreate=!1,t.taskGroupName=""}):t.errMsg="该列表已存在！"})}}},components:{dangerAlert:n.a},props:["projectId","taskGroupLength","projectName"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(173),n=s.n(o);e.default={created:function(){this.getTaskList()},data:function(){return{iscreateTask:!1,taskName:"",tasks:[]}},methods:{getTaskList:function(){var t=this;this.$filterGet("/api/Task_lists",{task_group_id:this.taskGroup.id}).then(function(e){t.tasks=e.length?e[0].task_list:[]})},allowDrop:function(t){t.preventDefault()},drop:function(t){console.info(this.$store.state.dragInfo,"this.$store.state.dragInfo"),console.info(this.tasks,"this.tasks");var e=this.$store.state.dragInfo.id;e&&!this.tasks.length?(this.tasks=[{task_id:e,name:this.$store.state.dragInfo.text,create_person_id:this.$getFromSession("userInfo","id"),focus_person_info:[{id:this.$getFromSession("userInfo","id"),headName:this.$getFromSession("userInfo","headName")}],is_solved:!1}],this.addTaskList()):e&&!this.tasks.filter(function(t){return t.task_id===e}).length&&(this.tasks.push({task_id:e,name:this.$store.state.dragInfo.text,create_person_id:this.$getFromSession("userInfo","id"),focus_person_info:[{id:this.$getFromSession("userInfo","id"),headName:this.$getFromSession("userInfo","headName")}],is_solved:!1}),this.postTask()),t.preventDefault()},createTask:function(){this.iscreateTask=!0},cancelCreateTask:function(){this.iscreateTask=!1},addTaskList:function(){var t=this;if(this.$store.state.dragInfo.id){var e={project_id:this.taskGroup.project_id,project_name:this.taskGroup.project_name,task_group_id:this.taskGroup.id,task_group_name:this.taskGroup.name,task_list:this.tasks};this.$post("/api/Task_lists",e).then(function(e){t.iscreateTask=!1,t.taskName=""})}},postTask:function(t,e,s){var o=this,n={project_id:this.taskGroup.project_id,project_name:this.taskGroup.project_name,task_group_id:e||this.taskGroup.id,task_group_name:s||this.taskGroup.name,task_list:t||this.tasks},r={where:{task_group_id:this.taskGroup.id}};this.$paramsPost("/api/Task_lists/update",n,r).then(function(e){o.iscreateTask=!1,o.taskName="",o.$store.commit("setDragInfo",{id:"",text:""}),t&&o.getTaskList()})}},components:{missionTask:n.a},props:["taskGroup"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(172),n=s.n(o),r=s(171),a=s.n(r);e.default={data:function(){return{list_group:[],list_group_id:""}},computed:{taskGroupLength:function(){return this.taskGroups?this.taskGroups.length:0},list_data_default:function(){return this.$props.listGroups&&this.$props.listGroups.list_group?this.$props.listGroups.list_group:[{id:"0",text:"数据湖项目",children:[]}]}},watch:{"$route.params.projectId":function(){this.getAllData()}},mounted:function(){this.getAllData()},methods:{getAllData:function(){var t=this;this.$filterGet("/api/List_groups",{project_id:this.$route.params.projectId}).then(function(e){var s=e;t.list_group_id=s.length?s[0].id:"";var o=s.length?s[0].list_group:[{id:"0",text:"数据湖项目",children:[]}];$("#ajax").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0},data:o},dnd:{large_drop_target:!0,use_html5:!0},plugins:["contextmenu","dnd","search","state","types","wholerow"]}).bind("click.jstree",function(t){}),t.list_group=$("#ajax").jstree().settings.core.data,["create_node","move_node","rename_node","delete_node","copy_node"].forEach(function(e){t.nodeChange(e)});var n=!1;$("#search").keyup(function(){n&&clearTimeout(n),n=setTimeout(function(){var t=$("#search").val();$("#ajax").jstree(!0).search(t)},250)}),$(document).on("dnd_start.vakata",function(e,s,o,n){var r=s.element;t.$store.commit("setDragInfo",{id:s.element.id,text:s.element.text}),r.ondragstart=function(t){t.dataTransfer.setData("id",t.target.id),t.dataTransfer.setData("text",t.target.text)}})})},nodeChange:function(t){var e=this;$("#ajax").on(t+".jstree",function(t,s,o){e.list_group=$("#ajax").jstree(!0).get_json(),e.setListGroup()})},setListGroup:function(){var t={list_group:this.list_group,project_id:this.$route.params.projectId,project_name:this.$route.params.projectName,create_time:Date.now(),create_person_id:this.$getFromSession("userInfo","id")},e={where:{project_id:this.$route.params.projectId}};this.list_group_id?this.$paramsPost("/api/List_groups/update",t,e).then(function(t){}):this.$post("/api/List_groups",t).then(function(t){})},addTaskGroup:function(t){this.$emit("taskGroupCreated",t)}},components:{missionGroupItem:n.a,createMissionGroup:a.a},props:["projectId","projectName","taskGroups"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(93),n=s.n(o),r=s(175),a=s.n(r);e.default={data:function(){return{slideTaskId:-1,taskName:"",isSlideShow:!1,isDragging:!1,delayedDragging:!1,taskInfo:{}}},watch:{isDragging:function(t){var e=this;if(t)return void(this.delayedDragging=!0);this.$nextTick(function(){e.delayedDragging=!1})}},computed:{isProject:function(){return"project"===this.$store.state.secondRouterName},dragOptions:function(){return{animation:0,name:"shared",pull:!0,group:"one",disabled:!1,ghostClass:"ghost",sort:!0,draggable:".task.clearfix"}},tasksProp:{get:function(){return this.$props.tasks.map(function(t,e){return n()({},t,{order:e,fixed:!1})})},set:function(t){return this.$emit("postTask",t),t}}},methods:{drag:function(t){t.dataTransfer.setData("dragId",t.target.id)},allowDrop:function(t){t.preventDefault()},drop:function(t){var e=t.dataTransfer.getData("dragId"),s=void 0,o=void 0;this.tasksProp.forEach(function(n,r){n.task_id===e&&(s=r),n.task_id===t.target.id&&(o=r)}),"number"==typeof s&&"number"==typeof o&&(this.tasksProp.splice(s,1),this.tasksProp.splice(o,0,this.tasksProp[s]))},onMove:function(t){var e=t.relatedContext,s=t.draggedContext,o=e.element,n=s.element;return!(o&&o.fixed||n.fixed)},onStart:function(t){var e=t.clone.id,s=this.tasksProp.filter(function(t){return t.task_id===e})[0].name;this.$store.commit("setDragInfo",{id:e,text:s,tasks:this.tasksProp,tasksInfo:this.$props.tasksInfo})},onEnd:function(t){this.isDragging=!1},changeSolved:function(t,e){},showSlide:function(t){var e=this;this.isSlideShow=!0;var s={project_id:this.$props.tasksInfo.project_id,project_name:this.$props.tasksInfo.project_name,task_group_id:this.$props.tasksInfo.task_group_id,task_group_name:this.$props.tasksInfo.task_group_name,task_id:t.task_id,name:t.name,description:t.description||"",focus_person_info:t.focus_person_info,solve_person_info:[],dead_time:"",create_time:new Date,is_solved:!1,tags:[]};this.$post("/api/Tasks",s).then(function(s){e.taskInfo=t})},closeSlide:function(){this.isSlideShow=!1}},components:{taskSlide:a.a},props:["tasks","tasksInfo"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(49),n=s.n(o);e.default={components:{missionGroup:n.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(94),n=s.n(o),r=s(186),a=s.n(r);e.default={data:function(){return{}},computed:{task:function(){return this.$props.taskInfo},isFocus:function(){var t=this;return!!this.task.focus_person_info&&this.task.focus_person_info.some(function(e){return e.id===t.$getFromSession("userInfo","id")})},isSolved:function(){var t=this;return!!this.task.solve_person_info&&this.task.solve_person_info.some(function(e){return e.id===t.$getFromSession("userInfo","id")})}},methods:{addFocus:function(){var t=this,e=JSON.parse(this.$getFromSession("userInfo"));delete e.password,this.$filterPost("/api/Tasks/update",{focus_person_info:[].concat(n()(this.task.focus_person_info),[e])},{id:this.task.id}).then(function(s){t.task.focus_person_info.push(e)})},addSolve:function(){var t=this,e=JSON.parse(this.$getFromSession("userInfo"));delete e.password,this.$filterPost("/api/Tasks/update",{solve_person_info:[].concat(n()(this.task.solve_person_info),[e])},{id:this.task.id}).then(function(s){t.task.solve_person_info.push(e)})},emitClose:function(){this.$emit("slideClose")},updateTask:function(){this.$emit("updateTask",{name:this.task.name,is_solved:this.task.is_solved})}},components:{slide:a.a,addPerson:{template:'\n      <div class="add-person-btn" @click="clickFn()">\n        <span class="glyphicon glyphicon-plus"></span>\n      </div>\n      ',props:["clickFn"]}},props:["taskInfo","isShow"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(13),n=s.n(o);e.default={components:{modal:n.a},props:["docModalInfo","docHook"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(13),n=s.n(o),r=s(7),a=s.n(r),i=s(162),c=s.n(i),u=s(50),d=s.n(u);e.default={created:function(){this.getDocs()},data:function(){return{createHook:!1,docHook:!1,documentName:"",documentContent:"",docArr:[],docModalInfo:{},errMsg:""}},methods:{createDocument:function(){this.createHook=!this.createHook},postDocumentInfo:function(){var t=this;this.errMsg="";var e=c()(this.documentContent),s=this.$route.params;if(e&&this.documentName){var o={project_id:Number(s.projectId),content:e,person_id:this.$getFromSession("userInfo","id"),person_name:this.$getFromSession("userInfo","name"),create_time:Date.now().toString(),title:this.documentName};this.$post("/api/Documents",o).then(function(e){t.documentName="",t.documentContent="",t.docArr.push(e),t.$hideModal()})}else this.errMsg="请填写全所有信息"},getDocs:function(){var t=this;this.$filterGet("/api/Documents",{project_id:this.$route.params.projectId}).then(function(e){t.docArr=e})},showDoc:function(t){var e=this.docArr[t];this.docModalInfo=e,this.docHook=!this.docHook},deleteDoc:function(t,e){var s=this;this.$delete("api/Documents/"+t).then(function(t){s.docArr.splice(e,1)})}},components:{modal:n.a,alert:a.a,documentModal:d.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{toMission:function(t,e){this.$router.push({name:"project",params:{projectId:t,projectName:e}})}},props:["projectArr"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(49),n=s.n(o);e.default={created:function(){this.getProjectInfo()},watch:{$route:"getProjectInfo"},data:function(){return{taskGroups:[]}},computed:{projectName:function(){return this.$route.params.projectName},projectId:function(){return this.$route.params.projectId}},methods:{getProjectInfo:function(){var t=this;this.$filterGet("/api/Task_groups",{project_id:this.projectId}).then(function(e){t.taskGroups=e})},taskGroupCreated:function(t){this.taskGroups.push(t)}},components:{missionGroup:n.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(14),n=s.n(o),r=s(50),a=s.n(r),i=s(51),c=s.n(i);e.default={created:function(){var t=this,e=[this.$get("/api/Documents"),this.$get("/api/Projects"),this.$get("/api/Groups")];n.a.all(e).then(function(e){t.docArr=e[0],t.projectArr=e[1],t.groupArr=e[2],t.search()})},data:function(){return{docHook:!1,docArr:[],filteredDocArr:[],docModalInfo:{},projectArr:[],filteredProjectArr:[],groupArr:[],filteredGroupArr:[]}},computed:{keyWord:function(){return this.$store.state.searchWords}},methods:{getFiltered:function(t,e){var s=this;return t.filter(function(t){if(s.keyWord){var o=new RegExp(s.keyWord);return t[e].match(o)}return[]})},search:function(){this.$store.dispatch("getSearchWords",this.keyWord),this.filteredDocArr=this.getFiltered(this.docArr,"title"),this.filteredProjectArr=this.getFiltered(this.projectArr,"name"),this.filteredGroupArr=this.getFiltered(this.groupArr,"name")},showDoc:function(t){var e=this.docArr[t];this.docModalInfo=e,this.docHook=!this.docHook},toGroup:function(t,e){this.$router.push({name:"group",params:{groupId:t,groupName:e}})}},components:{documentModal:a.a,projectItem:c.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(13),n=s.n(o),r=s(7),a=s.n(r);e.default={name:"head-navbar",components:{projectModal:n.a,dangerAlert:a.a},data:function(){return{errMsg:"",projectName:"",projectDescription:"",keyWord:""}},computed:{navbarInfo:function(){switch(this.$store.state.secondRouterName){case"dashboard":case"group":return{iconName:"glyphicon-dashboard",title:"我的工作台"};case"search":return{iconName:"glyphicon-search",title:"搜索"};case"project":return{iconName:"glyphicon-folder-open",title:this.$route.params.projectName,inputVisible:!0}}}},methods:{search:function(){this.$store.dispatch("getSearchWords",this.keyWord),this.$router.push({name:"search"})},isActive:function(t){var e=this.$store.state.routerLevel;return e[e.length-1]===t},postProjectInfo:function(){var t=this;this.errMsg="";var e={name:this.projectName,description:this.projectDescription,group_id:this.$route.params.groupId};""===this.projectName?this.errMsg="请填写项目名称！":this.$post("/api/Projects",e).then(function(e){t.projectArr.push(e),t.$hideModal(),t.projectName="",t.projectDescription=""})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(14),n=s.n(o),r=s(13),a=s.n(r),i=s(7),c=s.n(i);e.default={data:function(){return{modelRowInfoArr:["1 基本信息","2 邀请成员","3 完成"],stepIndex:0,projectName:"",description:"",errMsg:"",userGroup:[{userNum:"",isInValid:!1,id:"",headName:""}]}},computed:{leaderId:function(){return this.$getFromSession("userInfo","id")},leaderHead:function(){return this.$getFromSession("userInfo","headName")},leaderName:function(){return this.$getFromSession("userInfo","name")},leaderUserId:function(){return this.$getFromSession("userInfo","userId")},groupMembers:function(){var t=this;return this.userGroup.map(function(t){return t.headName}).filter(function(e){return e!==t.leaderHead}).concat(this.leaderHead)},user_ids:function(){var t=this;return this.userGroup.map(function(t){return t.id}).filter(function(e){return e!==t.leaderId}).concat(this.leaderId)}},methods:{cancelCreate:function(){this.stepIndex=0},prvStep:function(){this.stepIndex-=1},addStep:function(){this.stepIndex+=1},nextStep:function(){var t=this;switch(this.errMsg="",this.stepIndex){case 0:this.projectName?this.addStep():this.errMsg="请填写团队名称";break;case 1:for(var e=[],s=0;s<this.userGroup.length;s++){var o=this.userGroup[s].userNum,r={userId:o};if(""===o)return void(this.errMsg="请填写全所有UM账号");var a=this.$filterGet("/api/People",r);e.push(a)}n.a.all(e).then(function(e){var s=!0;e.forEach(function(e,o){0===e.length?(t.errMsg="用户不存在",t.userGroup[o].isInValid=!0,s=!1):(t.userGroup[o].id=e[0].id,t.userGroup[o].headName=e[0].headName,t.userGroup[o].isInValid=!1)}),s&&t.addStep()})}},postGroupInfo:function(){var t=this,e={leader_id:this.$getFromSession("userInfo","id"),leader_um:this.$getFromSession("userInfo","userId"),description:this.description,create_time:String(Date.now()),user_ids:this.user_ids,name:this.projectName};""===this.projectName?this.errMsg="请填写项目名称！":this.$post("/api/Projects",e).then(function(s){var o=s.id,r=[];t.user_ids.forEach(function(e){var s={person_id:e,group_id:o};r.push(t.$post("/api/Person_has_groups",s))}),n.a.all(r).then(function(){t.$emit("createdGroup",e),t.$hideModal(),t.stepIndex=0,t.projectName="",t.userGroup=[{userNum:"",isInValid:!1,id:"",headName:""}]})})},addUserGroup:function(){this.userGroup.push({userNum:"",isInValid:!1})},reduceUserGroup:function(){this.userGroup.length>1&&this.userGroup.pop()}},components:{modal:a.a,alertDanger:c.a},props:["hook"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(14),n=s.n(o),r=s(52),a=s.n(r);e.default={created:function(){this.getGroupList()},data:function(){return{modalHook:!1,groupList:[]}},methods:{createGroup:function(){this.modalHook=!this.modalHook},getGroupList:function(){var t=this,e=this.$getFromSession("userInfo","id");this.$get("api/People/"+e+"/person_has_groups").then(function(e){var s=[];return e.forEach(function(e){var o=e.group_id;s.push(t.$filterGet("api/Projects/findOne",{id:o}))}),s}).then(function(e){n.a.all(e).then(function(e){e.forEach(function(e){t.groupList.push(e)})})})},insertGroup:function(t){this.groupList.push(t)},toGroup:function(t,e){this.$router.push({name:"project",params:{projectId:t,projectName:e}}),this.$emit("groupClose")}},components:{createGroup:a.a},props:["isShow"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(184),n=s.n(o),r=s(183),a=s.n(r),i=s(185),c=s.n(i),u=s(181),d=s.n(u);e.default={data:function(){return{tabProps:[{iconName:"glyphicon-search",tabName:"搜索",routerName:"search"}],popBoxIsShow:!1,userBoxIsShow:!1,groupIsShow:!1}},computed:{headName:function(){return this.$getFromSession("userInfo","headName")}},methods:{togglePopBoxActive:function(){this.popBoxIsShow=!this.popBoxIsShow},toggleUserBoxActive:function(){this.userBoxIsShow=!this.userBoxIsShow},toggleGroupActive:function(){this.groupIsShow=!this.groupIsShow},quickAdd:function(){this.userBoxIsShow&&this.toggleUserBoxActive(),this.togglePopBoxActive()},openUserSetting:function(){this.popBoxIsShow&&this.togglePopBoxActive(),this.toggleUserBoxActive()},closeGroup:function(){this.groupIsShow=!1}},components:{tabItem:n.a,popBox:a.a,userSetting:c.a,groupReview:d.a},props:["projectId"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{popboxItems:[]}},mounted:function(){var t=this;this.$get("/api/People").then(function(e){e.forEach(function(e){t.popboxItems.push({iconName:"glyphicon-user",userId:e.userId})})})},methods:{addMemerber:function(){}},props:["popBoxIsShow"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{isActive:function(){return this.$store.state.secondRouterName===this.routerName}},methods:{changeRouterPath:function(){this.$router.push({name:this.routerName})}},props:["iconName","tabName","index","routerName"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{userSettingItems:[{name:"个人偏好设置"},{name:"账号资料设置"},{name:"提交反馈"},{isLine:!0,method:this.empty},{name:"退出登录",isRed:!0,method:this.logout}]}},methods:{logout:function(){sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("isLogin"),this.$router.replace({name:"login"})},empty:function(){console.log("empty")}},props:["userBoxIsShow"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(7),n=s.n(o);e.default={components:{alertDanger:n.a},props:["errMsg"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["message","type"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={watch:{hook:function(t){var e=this,s=this.$refs.modal,o=$(s);o.modal("show"),o.after($(".modal-backdrop")),this.emitName&&o.on("hidden.bs.modal",function(){e.$emit(e.emitName),o.off()})}},props:["hook","emitName"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{close:function(){this.$emit("slideClose")}},props:["isShow"]}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(21),n=s(57),r=s.n(n),a=s(55),i=s(58),c=s(59),u=s.n(c),d=s(56),l=s(54);o.a.config.productionTip=!1,o.a.component("vue-draggable",u.a),o.a.use(i.a),o.a.use(l.a),a.a.beforeEach(function(t,e,s){d.a.dispatch("refreshRouterLevel",t.path),d.a.dispatch("refreshRouterName"),s()}),a.a.beforeEach(function(t,e,s){var o=sessionStorage.getItem("isLogin"),n=d.a.state.firstRouterName;o||"login"===n||"regist"===n?s():s({name:"login"})}),a.a.beforeEach(function(t,e,s){"project"===t.name&&"document"===d.a.state.routerLevel[3]&&a.a.push({name:"document"}),s()}),new o.a({el:"#app",router:a.a,store:d.a,template:"<App/>",components:{App:r.a},created:function(){console.log("created")},beforeMount:function(){console.log("beforeMount")},mounted:function(){console.log("mounted")},beforeDestroy:function(){console.log("beforeDestroy")},destroyed:function(){console.log("destroyed")},updated:function(){console.log("updated")},beforeUpdate:function(){console.log("beforeUpdate")}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,s){s(137);var o=s(0)(s(61),s(190),"data-v-0e596401",null);t.exports=o.exports},function(t,e,s){s(143);var o=s(0)(s(62),s(196),"data-v-243bc551",null);t.exports=o.exports},function(t,e,s){s(156);var o=s(0)(s(63),s(209),"data-v-8fbd3ee4",null);t.exports=o.exports},function(t,e,s){s(145);var o=s(0)(s(64),s(198),"data-v-29101040",null);t.exports=o.exports},function(t,e,s){s(135);var o=s(0)(s(65),s(188),"data-v-09965ebf",null);t.exports=o.exports},function(t,e,s){s(154);var o=s(0)(s(66),s(207),"data-v-7cdd2f54",null);t.exports=o.exports},function(t,e,s){s(141);var o=s(0)(s(68),s(194),"data-v-1a858578",null);t.exports=o.exports},function(t,e,s){s(161);var o=s(0)(s(69),s(214),"data-v-f50ecdac",null);t.exports=o.exports},function(t,e,s){s(159);var o=s(0)(s(70),s(212),"data-v-df19968a",null);t.exports=o.exports},function(t,e,s){s(140);var o=s(0)(s(71),s(193),null,null);t.exports=o.exports},function(t,e,s){s(152);var o=s(0)(s(73),s(205),"data-v-702eb780",null);t.exports=o.exports},function(t,e,s){s(157);var o=s(0)(s(75),s(210),"data-v-94d09b78",null);t.exports=o.exports},function(t,e,s){s(138);var o=s(0)(s(76),s(191),"data-v-0f5d2717",null);t.exports=o.exports},function(t,e,s){s(142);var o=s(0)(s(77),s(195),"data-v-1f2f7f55",null);t.exports=o.exports},function(t,e,s){s(148);var o=s(0)(s(79),s(201),"data-v-5364cdcf",null);t.exports=o.exports},function(t,e,s){s(160);var o=s(0)(s(80),s(213),null,null);t.exports=o.exports},function(t,e,s){s(155);var o=s(0)(s(81),s(208),"data-v-8aa64e14",null);t.exports=o.exports},function(t,e,s){s(134);var o=s(0)(s(82),s(187),"data-v-087d7098",null);t.exports=o.exports},function(t,e,s){s(158);var o=s(0)(s(83),s(211),"data-v-c1dce492",null);t.exports=o.exports},function(t,e,s){s(153);var o=s(0)(s(87),s(206),"data-v-73d37dd7",null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticClass:"panel-tab text-center",class:{panelTabActive:t.isActive},on:{click:function(e){t.changeRouterPath()}}},[s("i",{staticClass:"glyphicon panel-icon",class:t.iconName}),t._v(" "),s("div",[t._v(t._s(t.tabName))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isDashboard?t._e():s("div",{staticClass:"create-mission-container",class:{"gray-bg":!t.showCreate}},[t.showCreate?s("div",{staticClass:"form"},[t.errMsg?s("div",{staticClass:"form-group"},[s("danger-alert",{attrs:{type:"danger",message:t.errMsg}})],1):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskGroupName,expression:"taskGroupName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"列表名"},domProps:{value:t.taskGroupName},on:{input:function(e){e.target.composing||(t.taskGroupName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success",on:{click:function(e){return e.stopPropagation(),t.postCreate(e)}}},[t._v("保存")]),t._v(" "),s("button",{staticClass:"btn btn-default",on:{click:function(e){return e.stopPropagation(),t.cancelCreate(e)}}},[t._v("取消")])])]):s("div",{staticClass:"create-mission",on:{click:t.createMission}},[s("i",{staticClass:"glyphicon glyphicon-plus-sign"}),t._v("\n    新建任务列表\n  ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{hook:t.docHook}},[s("template",{slot:"title"},[t._v("\n    文档信息详情\n  ")]),t._v(" "),[s("div",{staticClass:"form"},[s("div",{staticClass:"form-group"},[t._v("\n        文档名称："+t._s(t.docModalInfo.title)+"\n      ")]),t._v(" "),s("div",{staticClass:"form-group",domProps:{innerHTML:t._s(t.docModalInfo.content)}})])],t._v(" "),s("template",{slot:"footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("确定")])])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("log",{attrs:{"err-msg":t.errMsg}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formInfo.userId,expression:"formInfo.userId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"UM账号"},domProps:{value:t.formInfo.userId},on:{input:function(e){e.target.composing||t.$set(t.formInfo,"userId",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formInfo.password,expression:"formInfo.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.formInfo.password},on:{input:function(e){e.target.composing||t.$set(t.formInfo,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-block btn-lg btn-success",on:{click:function(e){t.submit()}}},[t._v("登录")])]),t._v(" "),s("div",{staticClass:"panel-footer"},[s("router-link",{attrs:{to:{name:"regist"}}},[t._v("去注册")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-main-container"},[s("div",{staticClass:"form-horizontal"},[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入查询关键词"},domProps:{value:t.keyWord},on:{keyup:function(e){t.search()},input:function(e){e.target.composing||(t.keyWord=e.target.value)}}}),t._v(" "),s("span",{staticClass:"input-group-addon"},[s("span",{staticClass:"glyphicon glyphicon-search",on:{click:function(e){t.search()}}})])])]),t._v(" "),s("div",{staticClass:"searched-container"},[t._l(t.filteredDocArr,function(e,o){return s("div",{staticClass:"item",on:{click:function(e){t.showDoc(o)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"text-container"},[s("div",[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),t._m(1,!0)])])}),t._v(" "),s("documentModal",{attrs:{docHook:t.docHook,docModalInfo:t.docModalInfo}}),t._v(" "),s("projectItem",{attrs:{projectArr:t.filteredProjectArr}}),t._v(" "),t._l(t.filteredGroupArr,function(e){return s("div",{staticClass:"item",on:{click:function(s){t.toGroup(e.id,e.name)}}},[t._m(2,!0),t._v(" "),s("div",{staticClass:"text-container"},[s("div",[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),s("div",{staticClass:"description"},[t._v("\n          "+t._s(e.user_ids.length)+"人\n        ")])])])})],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"glyphicon glyphicon-file icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"description"},[s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"glyphicon glyphicon-user icon"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{hook:t.hook}},[s("template",{slot:"title"},[t._v("新建项目")]),t._v(" "),s("div",[s("ul",{staticClass:"modal-ul"},t._l(t.modelRowInfoArr,function(e,o){return s("li",{key:o,class:{step_cursor:t.stepIndex==o}},[t._v("\n        "+t._s(e)+"\n      ")])})),t._v(" "),s("alert-danger",{attrs:{message:t.errMsg,type:"danger"}}),t._v(" "),s("div",{staticClass:"form modal-form-container"},[0===t.stepIndex?s("div",[s("div",{staticClass:"form-group"},[s("label",[t._v("项目名称")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.projectName,expression:"projectName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入项目名称"},domProps:{value:t.projectName},on:{input:function(e){e.target.composing||(t.projectName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("项目描述")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"textarea",placeholder:"输入项目描述"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("创建人")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.leaderName,expression:"leaderName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入创建人姓名",disabled:""},domProps:{value:t.leaderName},on:{input:function(e){e.target.composing||(t.leaderName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("创建人UM账号")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.leaderUserId,expression:"leaderUserId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入创建人UM账号",disabled:""},domProps:{value:t.leaderUserId},on:{input:function(e){e.target.composing||(t.leaderUserId=e.target.value)}}})])]):1===t.stepIndex?s("div",[s("label",[t._v("成员UM账号")]),t._v(" "),t._l(t.userGroup,function(e,o){return s("div",{staticClass:"form-group",class:{"has-error":e.isInValid}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userGroup[o].userNum,expression:"userGroup[index].userNum"}],staticClass:"form-control",domProps:{value:t.userGroup[o].userNum},on:{input:function(e){e.target.composing||t.$set(t.userGroup[o],"userNum",e.target.value)}}})])}),t._v(" "),s("div",{staticClass:"form-group row"},[s("button",{staticClass:"btn btn-link",on:{click:function(e){t.addUserGroup()}}},[t._v("+ 添加")]),t._v(" "),s("button",{staticClass:"btn btn-link",on:{click:function(e){t.reduceUserGroup()}}},[t._v("- 减少")])])],2):2===t.stepIndex?s("div",[s("div",{staticClass:"team_create_info_show"},[s("div",{staticClass:"info"},[t._v("\n            请确认以下信息\n          ")]),t._v(" "),s("div",{staticClass:"mt_30 group-name"},[t._v("\n            "+t._s(t.projectName)+"\n          ")]),t._v(" "),s("div",{staticClass:"mt_20"},t._l(t.groupMembers,function(e){return s("span",{staticClass:"g-user-head-default group-member"},[t._v(t._s(e))])}))])]):t._e()])],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.cancelCreate()}}},[t._v("取消")]),t._v(" "),t.stepIndex>0?s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.prvStep()}}},[t._v("上一步")]):t._e(),t._v(" "),2!==t.stepIndex?s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.nextStep()}}},[t._v("下一步")]):t._e(),t._v(" "),2===t.stepIndex?s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.postGroupInfo()}}},[t._v("创建")]):t._e()])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n  moments\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vue-draggable",{attrs:{element:"div",options:t.dragOptions},on:{move:t.onMove,start:t.onStart,end:t.onEnd},model:{value:t.tasksProp,callback:function(e){t.tasksProp=e},expression:"tasksProp"}},[s("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.tasksProp,function(e){return s("div",{key:e.order,staticClass:"task clearfix",attrs:{id:e.task_id},on:{click:function(s){t.showSlide(e)}}},[s("div",{staticClass:"task-title-container",class:{completed:e.is_solved}},[s("div",{staticClass:"radio-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.is_solved,expression:"task.is_solved"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.is_solved)?t._i(e.is_solved,null)>-1:e.is_solved},on:{click:function(s){t.changeSolved(e.id,e.is_solved)},change:function(s){var o=e.is_solved,n=s.target,r=!!n.checked;if(Array.isArray(o)){var a=t._i(o,null);n.checked?a<0&&t.$set(e,"is_solved",o.concat([null])):a>-1&&t.$set(e,"is_solved",o.slice(0,a).concat(o.slice(a+1)))}else t.$set(e,"is_solved",r)}}})]),t._v(" "),s("div",{staticClass:"task-title"},[t._v(t._s(e.name))]),t._v(" "),t.isProject?t._e():s("div",{staticClass:"task-badges"},[s("div",{staticClass:"task-badge"},[s("i",{staticClass:"glyphicon glyphicon-pushpin"}),t._v("\n              "+t._s(e.project_name)+"\n            ")])]),t._v(" "),s("div",{staticClass:"task-members"},t._l(e.focus_person_info,function(e){return s("div",{staticClass:"task-member-item"},[s("div",{staticClass:"task-member-face"},[s("div",{staticClass:"task-member-text"},[t._v("\n                  "+t._s(e.headName)+"\n                ")])])])}))])])}))],1),t._v(" "),s("task-slide",{attrs:{taskInfo:t.taskInfo,"is-show":t.isSlideShow},on:{slideClose:t.closeSlide}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mod-navbar"},[s("div",{staticClass:"main"},[s("div",{staticClass:"title"},[s("h3",[s("i",{staticClass:"glyphicon-dashboard glyphicon navbar-title",class:t.navbarInfo.iconName}),t._v(" "),s("span",[t._v(t._s("我的工作台"))]),t._v(" "),t.navbarInfo.title?s("span",[t._v(" | "+t._s(t.navbarInfo.title))]):t._e()])]),t._v(" "),t.navbarInfo.inputVisible?s("div",{staticClass:"right-menu"},[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入查询关键词"},domProps:{value:t.keyWord},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.search()},input:function(e){e.target.composing||(t.keyWord=e.target.value)}}}),t._v(" "),s("span",{staticClass:"input-group-addon"},[s("span",{staticClass:"glyphicon glyphicon-search",on:{click:function(e){t.search()}}})])])]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("panel"),t._v(" "),s("div",{staticClass:"center-panel"},[s("headNavbar"),t._v(" "),s("div",{staticClass:"center-panel-content"},[s("router-view")],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"modal",staticClass:"modal fade",attrs:{role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[t._m(0),t._v(" "),s("h4",{staticClass:"modal-title"},[t._t("title")],2)]),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),s("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-container"},[s("span",{staticClass:"main-title"},[t._v("项  目")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){t.createProject()}}},[s("span",{staticClass:"glyphicon glyphicon-plus"})]),t._v(" "),s("create-group",{attrs:{hook:t.modalHook},on:{createdGroup:t.insertGroup}}),t._v(" "),s("project-item",{attrs:{"project-arr":t.groupList}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-container"},[s("alert-danger",{attrs:{message:t.errMsg,type:"danger"}}),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"panel-header"},[t._v("\n      团队协同办公系统\n    ")]),t._v(" "),s("div",{staticClass:"panel-body"},[s("div",{staticClass:"form"},[t._t("default")],2)])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.message,expression:"message"}],staticClass:"alert",class:"alert-"+t.type},[t._v("\n    "+t._s(t.message)+"\n  ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popbox group-pop"},[s("div",{staticClass:"popbox-body"},[s("ul",{staticClass:"popbox-menu"},[t._m(0),t._v(" "),s("li",{staticClass:"divider"}),t._v(" "),t._l(t.groupList,function(e){return s("li",{staticClass:"popbox-li",on:{click:function(s){t.toGroup(e.id,e.name)}}},[s("div",[t._v(t._s(e.name))]),t._v(" "),s("small",{staticClass:"group-info-container"},[s("span",[s("i",{staticClass:"glyphicon glyphicon-user"}),t._v(t._s(e.user_ids.length)+"人")])])])}),t._v(" "),s("li",{staticClass:"divider"}),t._v(" "),s("li",{staticClass:"create-group-btn-container"},[s("button",{staticClass:"btn btn-block btn-success",on:{click:function(e){t.createGroup()}}},[t._v("创建新项目")])])],2)]),t._v(" "),s("create-group",{attrs:{hook:t.modalHook},on:{createdGroup:t.insertGroup}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"pop-title"},[s("span",[t._v("我的项目")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"misson-group"},[t._m(0),t._v(" "),t._l(t.taskGroups,function(t,e){return s("mission-group-item",{key:e,attrs:{"task-group":t}})}),t._v(" "),s("create-mission-group",{attrs:{"project-id":t.projectId,"project-name":t.projectName,"task-group-length":t.taskGroupLength},on:{taskGroupCreated:t.addTaskGroup}})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{margin:"7px 0 0 10px"}},[s("div",{staticClass:"input-group"},[s("input",{staticClass:"form-control",attrs:{id:"search",type:"text",placeholder:"输入查询关键词"}}),t._v(" "),s("span",{staticClass:"input-group-addon"},[s("span",{staticClass:"glyphicon glyphicon-search"})])]),t._v(" "),s("div",{staticStyle:{"min-height":"60px",width:"299px","margin-top":"5px"},attrs:{id:"ajax"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.projectArr,function(e){return s("div",{staticClass:"item",on:{click:function(s){t.toMission(e.id,e.name)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"text-container"},[s("div",[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),s("div",{staticClass:"description"},[t._v("\n        "+t._s(e.description)+"\n      ")])])])}))},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"glyphicon glyphicon-inbox icon"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-main-container"},[s("span",{staticClass:"main-title"},[t._v("添加文档")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){t.createDocument()}}},[s("span",{staticClass:"glyphicon glyphicon-plus"})]),t._v(" "),s("modal",{attrs:{hook:t.createHook}},[s("template",{slot:"title"},[t._v("\n      新建文档\n    ")]),t._v(" "),[s("alert",{attrs:{type:"danger",message:t.errMsg}}),t._v(" "),s("div",{staticClass:"form"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.documentName,expression:"documentName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入文档名称"},domProps:{value:t.documentName},on:{input:function(e){e.target.composing||(t.documentName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.documentContent,expression:"documentContent"}],staticClass:"form-control",attrs:{placeholder:"文档正文",rows:"8"},domProps:{value:t.documentContent},on:{input:function(e){e.target.composing||(t.documentContent=e.target.value)}}})])])],t._v(" "),s("template",{slot:"footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.postDocumentInfo}},[t._v("创建")])])],2),t._v(" "),s("div",{staticClass:"project-main-container"},[t._l(t.docArr,function(e,o){return s("div",{staticClass:"item",on:{click:function(e){t.showDoc(o)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"text-container"},[s("div",[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),t._m(1,!0)]),t._v(" "),s("div",{staticClass:"delete-container",on:{click:function(s){s.stopPropagation(),t.deleteDoc(e.id,o)}}},[t._v("\n        删除\n      ")])])}),t._v(" "),s("documentModal",{attrs:{docHook:t.docHook,docModalInfo:t.docModalInfo}})],2)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"glyphicon glyphicon-file icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"description"},[s("br")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"slide-content"},[s("div",{staticClass:"entity-well-header clearfix"},[t._t("header"),t._v(" "),s("div",{staticClass:"close-container"},[s("i",{staticClass:"glyphicon glyphicon-remove pull-right",on:{click:function(e){t.close()}}})])],2),t._v(" "),s("div",{staticClass:"slider-body"},[t._t("body")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mission-group-item"},[s("div",{staticClass:"mission-group-header clearfix"},[s("div",{staticClass:"mission-group-title-container pull-left"},[s("div",{staticClass:"mission-group-title"},[t._v("\n        "+t._s(t.taskGroup.name)+"\n      ")])]),t._v(" "),s("div",{staticClass:"item-num-container pull-right"},[s("div",{staticClass:"item-num"},[t._v(t._s(t.tasks.length))])])]),t._v(" "),s("div",{staticClass:"task-main-container"},[s("div",{staticClass:"task-container",staticStyle:{"background-color":"#fff"},on:{drop:function(e){t.drop(e)},dragover:function(e){t.allowDrop(e)}}},[s("mission-task",{attrs:{tasks:t.tasks,tasksInfo:{project_id:t.taskGroup.project_id,project_name:t.taskGroup.project_name,task_group_id:t.taskGroup.id,task_group_name:t.taskGroup.name}},on:{postTask:t.postTask}})],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.popBoxIsShow,expression:"popBoxIsShow"}],staticClass:"popbox mission-box"},[s("div",{staticClass:"popbox-body"},[s("ul",{staticClass:"popbox-menu"},t._l(t.popboxItems,function(e){return s("li",{staticClass:"popbox-li",class:{divider:e.isLine}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"popboxItem.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(s){var o=e.checked,n=s.target,r=!!n.checked;if(Array.isArray(o)){var a=t._i(o,null);n.checked?a<0&&t.$set(e,"checked",o.concat([null])):a>-1&&t.$set(e,"checked",o.slice(0,a).concat(o.slice(a+1)))}else t.$set(e,"checked",r)}}}),t._v(" "),s("i",{staticClass:"glyphicon",class:e.iconName}),t._v("\n        UM账号："),s("span",[t._v(t._s(e.userId))])])})),t._v(" "),s("button",{staticClass:"btn btn-primary btn-add",on:{click:function(e){t.addMemerber()}}},[t._v("添加项目成员")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("log",{attrs:{"err-msg":t.errMsg}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formInfo.firstName,expression:"formInfo.firstName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"姓"},domProps:{value:t.formInfo.firstName},on:{input:function(e){e.target.composing||t.$set(t.formInfo,"firstName",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formInfo.secondName,expression:"formInfo.secondName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"名"},domProps:{value:t.formInfo.secondName},on:{input:function(e){e.target.composing||t.$set(t.formInfo,"secondName",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formInfo.userId,expression:"formInfo.userId"}],staticClass:"form-control",attrs:{placeholder:"UM账号"},domProps:{value:t.formInfo.userId},on:{input:function(e){e.target.composing||t.$set(t.formInfo,"userId",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formInfo.password,expression:"formInfo.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.formInfo.password},on:{input:function(e){e.target.composing||t.$set(t.formInfo,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formInfo.confirmPassword,expression:"formInfo.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"请再输入密码一次"},domProps:{value:t.formInfo.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.formInfo,"confirmPassword",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-block btn-lg btn-success",on:{click:function(e){t.submit()}}},[t._v("注册")])]),t._v(" "),s("div",{staticClass:"panel-footer"},[s("router-link",{attrs:{to:{name:"login"}}},[t._v("去登录")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("mission-group",{attrs:{"project-id":t.$route.params.projectId,"project-name":t.projectName,"task-groups":t.taskGroups},on:{taskGroupCreated:t.taskGroupCreated}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.userBoxIsShow,expression:"userBoxIsShow"}],staticClass:"popbox user-setting-box"},[s("div",{staticClass:"popbox-body"},[s("ul",{staticClass:"popbox-menu"},t._l(t.userSettingItems,function(e){return s("li",{staticClass:"popbox-li",class:{divider:e.isLine,"text-danger":e.isRed},on:{click:function(t){e.method()}}},[s("span",[t._v(t._s(e.name))])])}))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("slide",{attrs:{"is-show":t.isShow},on:{slideClose:t.emitClose}},[s("template",{slot:"header"},[s("div",{staticClass:"entity-project-name"},[t._v("\n      "+t._s(t.task.project_name)+"\n    ")])]),t._v(" "),s("div",{staticClass:"slide-body",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"body-title",class:{completed:t.task.is_solved}},[t._v("\n      "+t._s(t.task.name)+"\n      "),s("small",[t._v("/"+t._s(t.task.description||"项目暂无描述"))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.task.is_solved,expression:"task.is_solved"}],staticClass:"tesk-status-btn",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.task.is_solved)?t._i(t.task.is_solved,null)>-1:t.task.is_solved},on:{change:function(e){var s=t.task.is_solved,o=e.target,n=!!o.checked;if(Array.isArray(s)){var r=t._i(s,null);o.checked?r<0&&t.$set(t.task,"is_solved",s.concat([null])):r>-1&&t.$set(t.task,"is_solved",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.task,"is_solved",n)}}})]),t._v(" "),s("div",{staticClass:"person-container clear-fix row"},[s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"title"},[t._v("\n          开发者\n        ")]),t._v(" "),t._l(t.task.solve_person_info,function(e){return s("div",{staticClass:"person-header-container"},[s("span",{staticClass:"glyphicon glyphicon-remove"}),t._v(" "),s("div",{staticClass:"g-user-head-default"},[t._v("\n            "+t._s(e.headName)+"\n          ")])])}),t._v(" "),t.isSolved?t._e():s("div",{staticClass:"add-person-btn",on:{click:function(e){t.addSolve()}}},[s("span",{staticClass:"glyphicon glyphicon-plus"})])],2),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"title"},[t._v("\n          验证者\n        ")]),t._v(" "),t._l(t.task.focus_person_info,function(e){return s("div",{staticClass:"person-header-container"},[s("span",{staticClass:"glyphicon glyphicon-remove"}),t._v(" "),s("div",{staticClass:"g-user-head-default"},[t._v("\n            "+t._s(e.headName)+"\n          ")])])}),t._v(" "),t.isFocus?t._e():s("div",{staticClass:"add-person-btn",on:{click:function(e){t.addFocus()}}},[s("span",{staticClass:"glyphicon glyphicon-plus"})])],2)]),t._v(" "),s("div",{staticClass:"comment-container"},[t._v("\n      评论\n      "),s("div",{staticClass:"comment clear-fix"},[s("div",{staticClass:"g-user-head-default pull-left"},[t._v("\n          名\n        ")]),t._v(" "),s("div",{staticClass:"content-container"},[s("div",[s("span",[t._v("全名")]),t._v(" "),s("span",{staticClass:"time"},[t._v("2017年4月12日 12:12")]),t._v(" "),s("span",{staticClass:"delete-btn"},[t._v("删除")])]),t._v(" "),s("div",[t._v("\n            comment\n          ")])])])]),t._v(" "),s("div",{staticClass:"post-comment-container"},[s("div",{staticClass:"form-group"},[s("textarea",{staticClass:"form-control",attrs:{name:"name",rows:"8",cols:"80"}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary"},[t._v("发表评论")])])])])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left-panel"},[s("div",{staticClass:"left-menu"},[s("div",{staticClass:"left-menu-tab"},[s("div",{staticClass:"left-menu-top"},[s("div",{staticClass:"left-panel-top-wrap"},[s("div",{staticClass:"left-panel-top",on:{click:t.toggleGroupActive}},[s("i",{staticClass:"glyphicon glyphicon-th-large"})]),t._v(" "),s("group-review",{attrs:{"is-show":t.groupIsShow},on:{groupClose:t.closeGroup}})],1),t._v(" "),s("div",{staticClass:"left-panel-tab-wrap"},[s("ul",{staticClass:"left-panel-tab"},t._l(t.tabProps,function(t,e){return s("tab-item",{key:e,attrs:{"icon-name":t.iconName,"tab-name":t.tabName,"is-active":t.isActive,"router-name":t.routerName,index:e}})}))])]),t._v(" "),s("div",{staticClass:"left-panel-footer"},[s("div",{staticClass:"quick-add",on:{click:t.quickAdd}},[s("i",{staticClass:"glyphicon glyphicon-plus"})]),t._v(" "),s("div",{staticClass:"user-setting g-user-head",on:{click:t.openUserSetting}},[t._v("\n          "+t._s(t.headName)+"\n        ")]),t._v(" "),s("user-setting",{attrs:{"user-box-is-show":t.userBoxIsShow}})],1),t._v(" "),s("pop-box",{attrs:{"pop-box-is-show":t.popBoxIsShow,"user-setting-is-show":t.userBoxIsShow}})],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mission-group")],1)},staticRenderFns:[]}},,,,function(t,e){}],[88]);
//# sourceMappingURL=app.9759ceb91a4c7a81763c.js.map